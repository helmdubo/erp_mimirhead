# ERP Mimirhead

–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–∞—à–±–æ—Ä–¥ –¥–ª—è 3D game art —Å—Ç—É–¥–∏–∏. Next.js 15 + Supabase + Tailwind CSS.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   npm install
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ `.env.local` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏–∑ Supabase:
   ```bash
   NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
   SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm run dev
   ```

4. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
erp_mimirhead/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx           # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –ë–î)
‚îÇ   ‚îî‚îÄ‚îÄ debug/             # Debug —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ lib/supabase/          # Supabase –∫–ª–∏–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ client.ts          # –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ server.ts          # –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–ª–∏–µ–Ω—Ç (service role)
‚îú‚îÄ‚îÄ supabase/
‚îÇ   ‚îú‚îÄ‚îÄ migrations/        # SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (–∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã!)
‚îÇ   ‚îî‚îÄ‚îÄ config.toml        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Supabase
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ database.types.ts  # –ê–í–¢–û–ì–ï–ù–ï–†–ò–†–£–ï–ú–´–ï —Ç–∏–ø—ã –ë–î
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ apply-migrations.js # –£–º–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏—è–º
‚îî‚îÄ‚îÄ .github/workflows/
    ‚îî‚îÄ‚îÄ apply-migrations.yml # GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Supabase)

### –°—Ö–µ–º–∞ `kaiten`
–ó–µ—Ä–∫–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Kaiten CRM:
- **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- **spaces** - –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- **boards** - –¥–æ—Å–∫–∏
- **columns** - –∫–æ–ª–æ–Ω–∫–∏
- **lanes** - –¥–æ—Ä–æ–∂–∫–∏
- **card_types** - —Ç–∏–ø—ã –∫–∞—Ä—Ç–æ—á–µ–∫
- **property_definitions** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤
- **tags** - —Ç–µ–≥–∏
- **cards** - –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–¥–∞—á
- **card_tags** - —Å–≤—è–∑–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –∏ —Ç–µ–≥–æ–≤

---

## üîß –†–∞–±–æ—Ç–∞ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (GitHub Actions)

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ GitHub (—Å–º. `.github/GITHUB_SECRETS_SETUP.md`):
- –ü—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞–π—Ç–µ push —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ `supabase/migrations/`
- GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- TypeScript —Ç–∏–ø—ã –æ–±–Ω–æ–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ NPM —Å–∫—Ä–∏–ø—Ç—ã

```bash
# –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å (–º–∏–≥—Ä–∞—Ü–∏–∏ + —Ç–∏–ø—ã)
npm run migrate

# –¢–æ–ª—å–∫–æ –º–∏–≥—Ä–∞—Ü–∏–∏
npm run db:push

# –¢–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã
npm run db:types

# –°–∫–∞—á–∞—Ç—å —Å—Ö–µ–º—É –∏–∑ —É–¥–∞–ª–µ–Ω–Ω–æ–π –ë–î
npm run db:pull
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ Supabase Dashboard

–°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ `SETUP_GUIDE.md`

---

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)

–í Vercel Settings ‚Üí Environment Variables –¥–æ–±–∞–≤—å—Ç–µ:

```bash
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGc...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...  # –î–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

- Push –≤ `main` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ production
- Push –≤ `claude/**` ‚Üí preview –¥–µ–ø–ª–æ–π

---

## üß™ –û—Ç–ª–∞–¥–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ `/debug` –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –ë–î

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `AGENTS.md` - –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤ (Claude)
- `SETUP_GUIDE.md` - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- `.github/GITHUB_SECRETS_SETUP.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions
- `scripts/README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º –º–∏–≥—Ä–∞—Ü–∏–π

---

## üõ†Ô∏è Tech Stack

- **Framework:** Next.js 15 (App Router)
- **Language:** TypeScript (strict mode)
- **Styling:** Tailwind CSS 4
- **Backend:** Supabase (PostgreSQL + Auth + Storage)
- **Database ORM:** Supabase JS Client
- **Deployment:** Vercel
- **CI/CD:** GitHub Actions

---

## üìù –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –°—Ö–µ–º–∞ –ë–î –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –≤ `supabase/migrations/`
   - –ù–ï –∏–∑–º–µ–Ω—è–π—Ç–µ –ë–î —á–µ—Ä–µ–∑ Supabase Dashboard UI
   - –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã

2. **TypeScript —Ç–∏–ø—ã:**
   - `types/database.types.ts` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ù–ï —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é
   - –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–∏–ø—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏: `npm run db:types`

3. **–ö–æ–º–º–∏—Ç—ã:**
   - –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ç–∫–∏ `claude/**` –¥–ª—è AI —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   - –ú–∏–≥—Ä–∞—Ü–∏–∏ –∫–æ–º–º–∏—Ç—è—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º
   - GitHub Actions –ø—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---

## üéØ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ú–∏–≥—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã, —Ç–∏–ø—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è, –¥–µ–ø–ª–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `app/`
2. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `components/`
3. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ë–î —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ `supabase/migrations/`
4. –ü—Ä–æ—Å—Ç–æ –¥–µ–ª–∞–π—Ç–µ push - –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
