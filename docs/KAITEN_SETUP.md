# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Kaiten

## üìã –ü—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã

1. –ê–∫–∫–∞—É–Ω—Ç –≤ Kaiten —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. API —Ç–æ–∫–µ–Ω –∏–∑ Kaiten
3. –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç Supabase
4. –î–µ–ø–ª–æ–π –Ω–∞ Vercel (–∏–ª–∏ –¥—Ä—É–≥–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ)

---

## üîë –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ API —Ç–æ–∫–µ–Ω–∞ Kaiten

1. –ó–∞–π–¥–∏—Ç–µ –≤ Kaiten
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **API**
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API —Ç–æ–∫–µ–Ω
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (–æ–Ω –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∂–µ—Ç—Å—è!)

---

## ‚öôÔ∏è –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–æ (`.env.local`):

```bash
# Kaiten API
KAITEN_API_URL=https://your-company.kaiten.ru
KAITEN_API_TOKEN=your_api_token_here

# Webhook Secret (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
KAITEN_WEBHOOK_SECRET=your_secret_key_here

# Supabase (—É–∂–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=xxx
SUPABASE_SERVICE_ROLE_KEY=xxx
```

### –ù–∞ Vercel:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Environment Variables**
3. –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env.local`

---

## üóÑÔ∏è –®–∞–≥ 3: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ NPM —Å–∫—Ä–∏–ø—Ç

–ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
npm run db:push
```

–≠—Ç–æ –ø—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é `20250104000000_add_sync_metadata.sql`, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—Å—Ç:
- –¢–∞–±–ª–∏—Ü—É `sync_metadata` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
- –¢–∞–±–ª–∏—Ü—É `sync_logs` –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Supabase Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard ‚Üí SQL Editor
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `supabase/migrations/20250104000000_add_sync_metadata.sql`
3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ

---

## üöÄ –®–∞–≥ 4: –ü–µ—Ä–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `https://your-site.vercel.app/admin/sync`
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"üîÑ –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö)

### –ü–æ—Ä—è–¥–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π):

1. Spaces (–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞)
2. Users (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
3. Card Types (—Ç–∏–ø—ã –∫–∞—Ä—Ç–æ—á–µ–∫)
4. Tags (—Ç–µ–≥–∏)
5. Property Definitions (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤)
6. Boards (–¥–æ—Å–∫–∏) ‚Üê –∑–∞–≤–∏—Å—è—Ç –æ—Ç Spaces –∏ Users
7. Columns (–∫–æ–ª–æ–Ω–∫–∏) ‚Üê –∑–∞–≤–∏—Å—è—Ç –æ—Ç Boards
8. Lanes (–¥–æ—Ä–æ–∂–∫–∏) ‚Üê –∑–∞–≤–∏—Å—è—Ç –æ—Ç Boards
9. Cards (–∫–∞—Ä—Ç–æ—á–∫–∏) ‚Üê –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤—Å–µ—Ö –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö

---

## üîî –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π)

### –í Kaiten:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **Webhooks**
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Webhook:
   - **URL**: `https://your-site.vercel.app/api/webhooks/kaiten`
   - **–°–æ–±—ã—Ç–∏—è**: –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ:
     - `card.create` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
     - `card.update` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
     - `card.move` - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
     - `card.archive` - –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏
     - `board.create`, `board.update` - –¥–ª—è –¥–æ—Å–æ–∫
     - –ò —Ç.–¥.
   - **Secret** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `KAITEN_WEBHOOK_SECRET`

3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ webhook

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

1. –°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É –≤ Kaiten
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ `/admin/sync`
3. Webhook –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ —Å —Ç–∏–ø–æ–º "webhook"

---

## üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
–°–∫–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–Ω–æ–≤–æ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏–ª–∏ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Å–∏–ª—å–Ω–æ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª–∏—Å—å.

```bash
# –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
/admin/sync ‚Üí "–ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"

# –ò–ª–∏ —á–µ—Ä–µ–∑ Server Action (–≤ –∫–æ–¥–µ)
import { syncAllData } from '@/app/actions/sync-actions';
await syncAllData();
```

### –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
–°–∫–∞—á–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã–µ. –ë—ã—Å—Ç—Ä–µ–µ, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

```bash
# –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
/admin/sync ‚Üí "–û–±–Ω–æ–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"

# –ò–ª–∏ —á–µ—Ä–µ–∑ Server Action
import { syncIncrementalData } from '@/app/actions/sync-actions';
await syncIncrementalData();
```

### –í—ã–±–æ—Ä–æ—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
# –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
/admin/sync ‚Üí "–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è" ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω–æ–µ

# –ò–ª–∏ —á–µ—Ä–µ–∑ Server Action
import { syncSpecificEntities } from '@/app/actions/sync-actions';
await syncSpecificEntities(['cards'], false);
```

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å `/admin/sync`

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –ø–æ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü–µ
- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–ª–Ω–æ–π –∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π
- –û—à–∏–±–∫–∏ (–µ—Å–ª–∏ –±—ã–ª–∏)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
SELECT
  'cards' as table_name, COUNT(*) as count FROM kaiten.cards
UNION ALL
SELECT 'boards', COUNT(*) FROM kaiten.boards
UNION ALL
SELECT 'spaces', COUNT(*) FROM kaiten.spaces;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏
SELECT id, title, synced_at
FROM kaiten.cards
ORDER BY synced_at DESC
LIMIT 10;
```

---

## ‚ö†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Foreign key constraint failed"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å, –∫–æ—Ç–æ—Ä–∞—è —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞—Ä—Ç–æ—á–∫—É —Å board_id, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ boards).

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é (–æ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ)
2. –ò–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é: —Å–Ω–∞—á–∞–ª–∞ boards, –ø–æ—Ç–æ–º cards

### –û—à–∏–±–∫–∞: "KAITEN_API_TOKEN is not set"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env.local` (–ª–æ–∫–∞–ª—å–Ω–æ)
2. –î–æ–±–∞–≤—å—Ç–µ –≤ Vercel Settings ‚Üí Environment Variables
3. –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è "–≤–∏—Å–∏—Ç"

**–ü—Ä–∏—á–∏–Ω–∞:** –í–æ–∑–º–æ–∂–Ω–æ –±–æ–ª—å—à–æ–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –º–µ–¥–ª–µ–Ω–Ω—ã–π API Kaiten.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel (Functions ‚Üí Logs)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–π
3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –≤—ã–±–æ—Ä–æ—á–Ω–æ (–ø–æ —Ç–∏–ø–∞–º —Å—É—â–Ω–æ—Å—Ç–µ–π)

### Webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL: `https://your-site.vercel.app/api/webhooks/kaiten`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ webhook –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
4. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env.local`** –≤ git
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ webhook secret** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
3. **Service Role Key** —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä)
4. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞ API —Ç–æ–∫–µ–Ω–∞** –≤ Kaiten (—Ç–æ–ª—å–∫–æ read –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞ –∑–∞–ø–∏—Å—å)

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è ~1000 –∫–∞—Ä—Ç–æ—á–µ–∫: ~2-3 –º–∏–Ω—É—Ç—ã
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: ~10-30 —Å–µ–∫—É–Ω–¥
- Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞: <1 —Å–µ–∫—É–Ω–¥–∞

–î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ (>10000 –∫–∞—Ä—Ç–æ—á–µ–∫):
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ cron –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –í–∫–ª—é—á–∏—Ç–µ webhooks –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

---

## üõ†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (Cron)

–î–æ–±–∞–≤—å—Ç–µ –≤ `vercel.json`:

```json
{
  "crons": [{
    "path": "/api/cron/sync",
    "schedule": "0 */6 * * *"
  }]
}
```

–°–æ–∑–¥–∞–π—Ç–µ `/app/api/cron/sync/route.ts`:

```typescript
import { syncIncrementalData } from '@/app/actions/sync-actions';

export async function GET() {
  await syncIncrementalData();
  return Response.json({ ok: true });
}
```

–≠—Ç–æ –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `/admin/sync`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Vercel Function Logs
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Supabase Logs
4. –û—Ç–∫—Ä–æ–π—Ç–µ issue –Ω–∞ GitHub
